(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3894],{4431:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var o=r(n(64938)),a=n(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");t.Z=i},73381:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var o=r(n(64938)),a=n(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"}),"ChevronRightOutlined");t.Z=i},55441:function(e,t,n){"use strict";var r=n(95318);t.Z=void 0;var o=r(n(64938)),a=n(85893),i=(0,o.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");t.Z=i},87357:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(87462),o=n(63366),a=n(67294),i=n(86010),l=n(30561),c=n(86523),s=n(39707),m=n(11938),u=n(85893);const _=["className","component"];var d=n(49981);const p=function(e={}){const{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:d,styleFunctionSx:p=c.Z}=e,f=(0,l.ZP)("div")(p);return a.forwardRef((function(e,a){const l=(0,m.Z)(t),c=(0,s.Z)(e),{className:p,component:h="div"}=c,v=(0,o.Z)(c,_);return(0,u.jsx)(f,(0,r.Z)({as:h,ref:a,className:(0,i.default)(p,d?d(n):n),theme:l},v))}))}({defaultTheme:(0,n(21265).Z)(),defaultClassName:"MuiBox-root",generateClassName:d.Z.generate});var f=p},15861:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(63366),o=n(87462),a=n(67294),i=n(86010),l=n(39707),c=n(27192),s=n(11496),m=n(54502),u=n(98216),_=n(28979);function d(e){return(0,_.Z)("MuiTypography",e)}(0,n(76087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var p=n(85893);const f=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],h=(0,s.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,u.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,o.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},g={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var j=a.forwardRef((function(e,t){const n=(0,m.Z)({props:e,name:"MuiTypography"}),a=(e=>g[e]||e)(n.color),s=(0,l.Z)((0,o.Z)({},n,{color:a})),{align:_="inherit",className:j,component:b,gutterBottom:x=!1,noWrap:y=!1,paragraph:w=!1,variant:N="body1",variantMapping:Z=v}=s,F=(0,r.Z)(s,f),O=(0,o.Z)({},s,{align:_,color:a,className:j,component:b,gutterBottom:x,noWrap:y,paragraph:w,variant:N,variantMapping:Z}),S=b||(w?"p":Z[N]||v[N])||"span",C=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:a,classes:i}=e,l={root:["root",a,"inherit"!==e.align&&`align${(0,u.Z)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,c.Z)(l,d,i)})(O);return(0,p.jsx)(h,(0,o.Z)({as:S,ref:t,ownerState:O,className:(0,i.default)(C.root,j)},F))}))},39707:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(87462),o=n(63366),a=n(59766),i=n(48528);const l=["sx"];function c(e){const{sx:t}=e,n=(0,o.Z)(e,l),{systemProps:c,otherProps:s}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{i.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let m;return m=Array.isArray(t)?[c,...t]:"function"===typeof t?(...e)=>{const n=t(...e);return(0,a.P)(n)?(0,r.Z)({},c,n):c}:(0,r.Z)({},c,t),(0,r.Z)({},s,{sx:m})}},25802:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(67294),o=n(76798),a=n(59499),i=n(15568),l=n(85893);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=r.forwardRef((function(e,t){return(0,l.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elevation:6,ref:t,variant:"filled"},e))})),m=s,u=n(77227),_=function(e){var t=e.open;return(0,l.jsx)(u.Z,{sx:{color:"#fff",zIndex:9999},open:t,children:(0,l.jsx)("img",{src:"/loadingWhite.svg",style:{width:100,height:100},alt:"img"})})},d=n(37196),p=n.n(d),f=function(e){var t=e.openSnack,n=e.snackMsg,r=e.alertType,a=e.openLoading,i=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(_,{open:a}),(0,l.jsx)(o.Z,{open:t,anchorOrigin:{vertical:"top",horizontal:"right"},className:p().snack_area,autoHideDuration:3e3,onClose:i,children:(0,l.jsx)(m,{onClose:i,sx:{width:"100%"},severity:r,children:n})})]})}},46649:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(9632),o=n(59499),a=n(50029),i=n(16835),l=n(87794),c=n.n(l),s=n(67294),m=n(74502),u=n.n(m),_=n(25675),d={src:"/_next/static/media/IconTemplate.73d33537.svg",height:147,width:120},p=n(73381),f=n(4431),h=n(55441),v=n(11163),g=n(86983),j=n(87357),b=n(15861),x=n(25617),y=n(25802),w=n(68447),N=n(10864),Z=n(85893);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:600,bgcolor:"#fff",borderRadius:"24px",boxShadow:24,p:4,outline:"none"},C=function(){var e=(0,x.v9)((function(e){return e.wallet})),t=(0,N.Or)(),n=(0,i.Z)(t,3),o=n[0].wallet,l=(n[1],n[2],(0,v.useRouter)()),m=(0,s.useState)(!1),F=m[0],C=m[1],P=(0,s.useState)(""),T=P[0],B=P[1],D=(0,s.useState)(""),M=D[0],E=D[1],z=(0,s.useState)("card"),R=z[0],W=z[1],A=(0,s.useState)(!1),I=A[0],L=A[1],H=(0,s.useState)(!1),V=H[0],J=H[1],K=(0,s.useState)("success"),U=K[0],X=K[1],q=(0,s.useState)(""),G=q[0],Q=q[1],Y=(0,s.useState)([]),$=Y[0],ee=Y[1],te=(0,s.useState)([]),ne=te[0],re=te[1],oe=(0,s.useState)({events_joined:0,events_owner:0,forms_joined:0,forms_owner:2,id:"0x20613abe93e4611cf547b4395e4248c6129c8697",income:"0",outcome:"0",status:0}),ae=oe[0],ie=oe[1],le=function(e){var t=e.type,n=e.msg;J(!0),L(!1),X(t),Q(n)};(0,s.useEffect)((function(){(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:return e.next=4,se();case 4:return e.next=6,me();case 6:case"end":return e.stop()}}),e)})))()}),[]);var ce=function(){var t=(0,a.Z)(c().mark((function t(){var n,r,a,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.contract,e.walletConnection,ee([]),i=null===o||void 0===o||null===(n=o.accounts[0])||void 0===n?void 0:n.address,alert(null===o||void 0===o||null===(r=o.accounts[0])||void 0===r?void 0:r.address),t.next=6,a.get_user({userId:i}).then((function(e){e&&(console.log(e),console.log(e.forms_owner,e.forms_owner<3),ie(O({},e)))})).catch((function(e){return console.log(e)}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=(0,a.Z)(c().mark((function t(){var n,a,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.contract,e.walletConnection,ee([]),i=null===o||void 0===o||null===(n=o.accounts[0])||void 0===n?void 0:n.address,t.next=5,a.get_forms({userId:i,page:1}).then((function(e){e&&ee((0,r.Z)(null===e||void 0===e?void 0:e.data))})).catch((function(e){return console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),me=function(){var t,n=e.contract,a=(e.walletConnection,null===o||void 0===o||null===(t=o.accounts[0])||void 0===t?void 0:t.address);n.get_joined_forms({userId:a,page:1}).then((function(e){e&&re((0,r.Z)(null===e||void 0===e?void 0:e.data))}))},ue=function(e){try{var t=parseFloat(e),n=new Date(t),r=n.toLocaleDateString(),o=n.toLocaleTimeString();return"".concat(r," ").concat(o)}catch(a){return"unknow"}};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y.Z,{openLoading:I,openSnack:V,alertType:U,snackMsg:G,onClose:function(){J(!1)}}),(0,Z.jsxs)("div",{className:u().root,children:[(0,Z.jsxs)("div",{className:u().join_form,children:[(0,Z.jsx)("div",{className:u().join_form_title,children:"Join a form now"}),(0,Z.jsxs)("div",{className:u().join_form_row,children:[(0,Z.jsx)("input",{className:u().join_form_row_input,placeholder:"Enter your form ID here"}),(0,Z.jsx)("button",{className:u().join_form_row_button,children:"Join Form"})]})]}),(0,Z.jsxs)("div",{className:u().label,children:[(0,Z.jsx)("div",{className:u().label_title,children:"Start a new form"}),(0,Z.jsxs)("div",{className:u().label_text,children:["Show all template ",(0,Z.jsx)(p.Z,{className:u().icon_collapse})]})]}),(0,Z.jsx)("div",{className:u().content,children:k.map((function(e,t){return(0,Z.jsxs)("div",{className:u().template,onClick:function(){return C(!0)},children:[(0,Z.jsx)("div",{className:u().template_content,children:"blank"===e.id?(0,Z.jsx)(f.Z,{fontSize:"large",className:u().template_icon_add}):(0,Z.jsx)("div",{className:u().template_icon,children:(0,Z.jsx)(_.default,{src:d,layout:"fill",alt:"Error",priority:!0})})}),(0,Z.jsx)("div",{className:u().template_title,children:e.title}),(0,Z.jsx)("div",{className:u().template_name,children:e.name})]},t)}))}),(0,Z.jsx)("div",{className:u().label_recent,children:(0,Z.jsx)("div",{className:u().label_title,children:"Recent"})}),(0,Z.jsx)("div",{className:u().content,children:(null===ne||void 0===ne?void 0:ne.length)>0||(null===$||void 0===$?void 0:$.length)>0?(0,Z.jsxs)(Z.Fragment,{children:[ne.map((function(e,t){return(0,Z.jsxs)("div",{className:u().recent,onClick:function(){return function(e){l.push("form/form-analysis?id=".concat(e.form_id))}(e)},children:[(0,Z.jsx)("div",{className:u().menu,children:(0,Z.jsx)(h.Z,{fontSize:"large",className:u().recent_icon_menu})}),(0,Z.jsxs)("div",{className:u().recent_title,children:["Name: ",(0,Z.jsx)("span",{className:u().recent_name,children:e.form_title})]}),(0,Z.jsx)("div",{className:u().recent_title,children:"Last updated:"}),(0,Z.jsx)("div",{className:u().recent_last_update,children:ue(e.last_summited)})]},t)})),$.map((function(e,t){return(0,Z.jsxs)("div",{className:u().recent,onClick:function(){return function(e){l.push("form/view-form?id=".concat(e.id))}(e)},children:[(0,Z.jsx)("div",{className:u().menu,children:(0,Z.jsx)(h.Z,{fontSize:"large",className:u().recent_icon_menu})}),(0,Z.jsxs)("div",{className:u().recent_title,children:["Name: ",(0,Z.jsx)("span",{className:u().recent_name,children:e.title})]}),(0,Z.jsx)("div",{className:u().recent_title,children:"Last updated:"}),(0,Z.jsx)("div",{className:u().recent_last_update,children:ue(e.created_at)})]},t)}))]}):(0,Z.jsx)("div",{className:u().no_recent,children:"You don't have recent form."})}),(0,Z.jsx)(g.Z,{open:F,onClose:function(){return C(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Z.jsxs)(j.Z,{sx:S,children:[(0,Z.jsx)(b.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Create form"}),(0,Z.jsxs)("div",{className:u().modal_row,children:[(0,Z.jsx)("div",{className:u().modal_label,children:"Name"}),(0,Z.jsx)("input",{value:T,className:u().modal_input,onChange:function(e){B(e.target.value)}})]}),(0,Z.jsxs)("div",{className:u().modal_row,children:[(0,Z.jsx)("div",{className:u().modal_label,children:"Description"}),(0,Z.jsx)("input",{value:M,className:u().modal_input,onChange:function(e){E(e.target.value)}})]}),(0,Z.jsxs)("div",{className:u().modal_row,children:[(0,Z.jsx)("div",{className:u().modal_label,children:"Form type"}),(0,Z.jsxs)("div",{className:"card"===R?u().modal_button_active:u().modal_button,onClick:function(){return W("card")},children:[(0,Z.jsx)("img",{src:"/card_form.svg",alt:"img",className:u().modal_card_img}),(0,Z.jsx)("div",{className:u().line}),(0,Z.jsx)("span",{children:"Card Form"})]}),(0,Z.jsxs)("button",{className:("basic"===R?u().modal_button_active:u().modal_button)+" "+u().margin_left,onClick:function(){return W("basic")},children:[(0,Z.jsx)("img",{src:"/basic_form.svg",alt:"img",className:u().modal_card_img}),(0,Z.jsx)("div",{className:u().line}),(0,Z.jsx)("span",{children:"Basic Form"})]})]}),(0,Z.jsxs)("div",{className:u().modal_row_button,children:[(0,Z.jsx)("button",{className:u().modal_button_cancel,onClick:function(){return C(!1)},children:"Cancel"}),(0,Z.jsx)("button",{className:u().modal_create_button,onClick:function(){if(null==ae)return le({type:"error",msg:"System busy! try again later"});if(""===T||null===T||"undefined"===typeof T)return le({type:"error",msg:"Form title could not be empty"});if(""===M||null===M||"undefined"===typeof M)return le({type:"error",msg:"Form description could not be empty"});L(!0),C(!1);var t=e.contract,n="card"===R?1:0;if(ae.forms_owner<3){var r;null===t||void 0===t||null===(r=t.init_new_form)||void 0===r||r.call(t,{title:T,description:M,type:n},5e13).then((function(e){e?l.push("/form/edit-form?id=".concat(e)):le({type:"error",msg:"Creat form failure"})})).catch((function(e){l.push("/form/edit-form?id=".concat("4fd55oe2Lmb41djZX6YYjbGgVJScj2y9dQo5rB6SjrmenumcTEX"))}))}else{var o,a=w.utils.format.parseNearAmount("0.5");null===t||void 0===t||null===(o=t.init_new_form)||void 0===o||o.call(t,{title:T,description:M,type:n},5e13,a).then((function(e){e?l.push("/form/edit-form?id=".concat(e)):le({type:"error",msg:"Creat form failure"})})).catch((function(e){le({type:"error",msg:String(e)})}))}},children:"Create form"})]})]})})]})]})},k=[{id:"blank",title:"Blank",name:"Create a blank form",route:"/form/create-form"},{id:"demo_day",title:"Demo Template",name:"Create From Template",route:"/create-form"}]},84987:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form",function(){return n(46649)}])},37196:function(e){e.exports={snack_area:"Notify_snack_area__VKRcf"}},74502:function(e){e.exports={root:"Form_root__MDXDA",label:"Form_label__HmT4_",label_recent:"Form_label_recent__HETKr",label_title:"Form_label_title__eiBIT",label_text:"Form_label_text__P66Dt",icon_collapse:"Form_icon_collapse__lH4oJ",content:"Form_content__uFMC3",template:"Form_template__HqM8G",template_title:"Form_template_title__A_cHM",template_content:"Form_template_content__6hu5L",template_icon_add:"Form_template_icon_add__iKIVv",template_icon:"Form_template_icon__yJzmz",template_name:"Form_template_name__Sa_BB",recent:"Form_recent__TUl3Q",recent_title:"Form_recent_title__s0cC3",recent_name:"Form_recent_name__Gq8bW",recent_last_update:"Form_recent_last_update__V_yL_",no_recent:"Form_no_recent__CUx_t",menu:"Form_menu__6dRi5",recent_icon_menu:"Form_recent_icon_menu__qh1RD",modal_row:"Form_modal_row__Bvc9F",modal_label:"Form_modal_label__YV5BO",modal_input:"Form_modal_input__kobSw",modal_button:"Form_modal_button__wo5Q9",modal_button_active:"Form_modal_button_active__pkKva",modal_card_img:"Form_modal_card_img__xSlHi",line:"Form_line__4Ufy7",margin_left:"Form_margin_left__CzbgR",modal_label_paid:"Form_modal_label_paid__bKa0O",modal_input_date:"Form_modal_input_date__DSOfU",modal_row_button:"Form_modal_row_button__8jjUv",modal_button_cancel:"Form_modal_button_cancel__8Ejlg",modal_create_button:"Form_modal_create_button__s1eA7",join_form:"Form_join_form__4WqhD",join_form_title:"Form_join_form_title__Onsbi",join_form_row:"Form_join_form_row__6Q4eT",join_form_row_input:"Form_join_form_row_input__cTeIz",join_form_row_button:"Form_join_form_row_button__V0v1Z"}},9632:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(52587);var o=n(2937);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[7739,6775,9774,2888,179],(function(){return t=84987,e(e.s=t);var t}));var t=e.O();_N_E=t}]);