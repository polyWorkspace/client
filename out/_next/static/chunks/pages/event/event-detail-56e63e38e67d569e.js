(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2615],{60790:function(t,e,n){"use strict";var o=n(95318);e.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"AccessAlarmOutlined");e.Z=r},64041:function(t,e,n){"use strict";var o=n(95318);e.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFileOutlined");e.Z=r},77957:function(t,e,n){"use strict";var o=n(95318);e.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.Z=r},62665:function(t,e,n){"use strict";var o=n(95318);e.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");e.Z=r},89278:function(t,e,n){"use strict";var o=n(95318);e.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M7.94 5.12 6.49 3.66C8.07 2.61 9.96 2 12 2c5.52 0 10 4.48 10 10 0 2.04-.61 3.93-1.66 5.51l-1.46-1.46C19.59 14.86 20 13.48 20 12c0-4.41-3.59-8-8-8-1.48 0-2.86.41-4.06 1.12zm9.72 4.41-1.41-1.41-2.65 2.65 1.41 1.41 2.65-2.65zm2.12 13.08-2.27-2.27C15.93 21.39 14.04 22 12 22 6.48 22 2 17.52 2 12c0-2.04.61-3.93 1.66-5.51L1.39 4.22 2.8 2.81l18.38 18.38-1.4 1.42zm-3.72-3.73L12.18 15l-1.59 1.59-4.24-4.24 1.41-1.41 2.83 2.83.18-.18-5.65-5.65C4.41 9.14 4 10.52 4 12c0 4.41 3.59 8 8 8 1.48 0 2.86-.41 4.06-1.12z"}),"UnpublishedOutlined");e.Z=r},60194:function(t,e,n){"use strict";var o=n(95318);e.Z=void 0;var i=o(n(64938)),a=n(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M12 5.99 19.53 19H4.47L12 5.99M12 2 1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"WarningAmberOutlined");e.Z=r},78262:function(t,e,n){"use strict";n.d(e,{Z:function(){return D}});var o=n(63366),i=n(87462),a=n(67294),r=n(86010),l=n(27192),c=n(57579),s=n(98216),_=n(86983),d=n(16628),u=n(55113),v=n(54502),f=n(11496),p=n(28979);function h(t){return(0,p.Z)("MuiDialog",t)}var m=(0,n(76087).Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var x=(0,a.createContext)({}),b=n(77227),g=n(2734),j=n(85893);const w=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],y=(0,f.ZP)(b.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),N=(0,f.ZP)(_.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),k=(0,f.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${(0,s.Z)(n.scroll)}`]]}})((({ownerState:t})=>(0,i.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),Z=(0,f.ZP)(u.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${(0,s.Z)(n.scroll)}`],e[`paperWidth${(0,s.Z)(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})((({theme:t,ownerState:e})=>(0,i.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===e.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===e.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===e.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`${t.breakpoints.values.xs}${t.breakpoints.unit}`,[`&.${m.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},"xs"!==e.maxWidth&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${m.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${m.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})));var D=a.forwardRef((function(t,e){const n=(0,v.Z)({props:t,name:"MuiDialog"}),_=(0,g.Z)(),f={enter:_.transitions.duration.enteringScreen,exit:_.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":m,BackdropComponent:b,BackdropProps:D,children:E,className:S,disableEscapeKeyDown:C=!1,fullScreen:O=!1,fullWidth:P=!1,maxWidth:W="sm",onBackdropClick:A,onClose:I,open:M,PaperComponent:z=u.Z,PaperProps:R={},scroll:T="paper",TransitionComponent:F=d.Z,transitionDuration:L=f,TransitionProps:B}=n,K=(0,o.Z)(n,w),H=(0,i.Z)({},n,{disableEscapeKeyDown:C,fullScreen:O,fullWidth:P,maxWidth:W,scroll:T}),$=(t=>{const{classes:e,scroll:n,maxWidth:o,fullWidth:i,fullScreen:a}=t,r={root:["root"],container:["container",`scroll${(0,s.Z)(n)}`],paper:["paper",`paperScroll${(0,s.Z)(n)}`,`paperWidth${(0,s.Z)(String(o))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return(0,l.Z)(r,h,e)})(H),X=a.useRef(),V=(0,c.Z)(m),q=a.useMemo((()=>({titleId:V})),[V]);return(0,j.jsx)(N,(0,i.Z)({className:(0,r.default)($.root,S),BackdropProps:(0,i.Z)({transitionDuration:L,as:b},D),closeAfterTransition:!0,BackdropComponent:y,disableEscapeKeyDown:C,onClose:I,open:M,ref:e,onClick:t=>{X.current&&(X.current=null,A&&A(t),I&&I(t,"backdropClick"))},ownerState:H},K,{children:(0,j.jsx)(F,(0,i.Z)({appear:!0,in:M,timeout:L,role:"presentation"},B,{children:(0,j.jsx)(k,{className:(0,r.default)($.container),onMouseDown:t=>{X.current=t.target===t.currentTarget},ownerState:H,children:(0,j.jsx)(Z,(0,i.Z)({as:z,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":V},R,{className:(0,r.default)($.paper,R.className),ownerState:H,children:(0,j.jsx)(x.Provider,{value:q,children:E})}))})}))}))}))},3167:function(t,e,n){"use strict";n(67294);var o=n(78262),i=n(60194),a=n(2077),r=n.n(a),l=n(85893);e.Z=function(t){var e=t.label,n=void 0===e?{}:e,a=t.onAccept,c=t.onCancel;return(0,l.jsx)(o.Z,{open:!0,"aria-labelledby":"draggable-dialog-title",children:(0,l.jsxs)("div",{className:r().root,children:[(0,l.jsx)("div",{className:r().root_title,children:n.title}),(0,l.jsxs)("div",{className:r().root_content,children:[(0,l.jsx)(i.Z,{className:r().root_content_icon}),(0,l.jsx)("div",{className:r().root_content_text,children:n.desc})]}),(0,l.jsxs)("div",{className:r().root_action,children:[(0,l.jsx)("button",{onClick:c,className:r().root_action_cancel,children:n.cancel}),(0,l.jsx)("button",{onClick:function(){null===a||void 0===a||a()},className:r().root_action_accept,children:n.accept})]})]})})}},25802:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var o=n(67294),i=n(76798),a=n(59499),r=n(15568),l=n(85893);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var s=o.forwardRef((function(t,e){return(0,l.jsx)(r.Z,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({elevation:6,ref:e,variant:"filled"},t))})),_=s,d=n(77227),u=function(t){var e=t.open;return(0,l.jsx)(d.Z,{sx:{color:"#fff",zIndex:9999},open:e,children:(0,l.jsx)("img",{src:"/loadingWhite.svg",style:{width:100,height:100},alt:"img"})})},v=n(37196),f=n.n(v),p=function(t){var e=t.openSnack,n=t.snackMsg,o=t.alertType,a=t.openLoading,r=t.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u,{open:a}),(0,l.jsx)(i.Z,{open:e,anchorOrigin:{vertical:"top",horizontal:"right"},className:f().snack_area,autoHideDuration:3e3,onClose:r,children:(0,l.jsx)(_,{onClose:r,sx:{width:"100%"},severity:o,children:n})})]})}},95509:function(t,e,n){"use strict";n(67294);var o=n(96538),i=n.n(o),a=n(16573),r=n(1020),l=n(46616),c=n(87385),s=n(38168),_=n(44276),d=n(48137),u=n(66339),v=n(43800),f=n(86983),p=n(87357),h=n(15861),m=n(85893),x={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:400,bgcolor:"#fff",borderRadius:"24px",boxShadow:24,p:4,outline:"none",paddingTop:"20px"};e.Z=function(t){var e=t.link;return(0,m.jsx)(f.Z,{open:!0,onClose:t.onCloseModal,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,m.jsxs)(p.Z,{sx:x,children:[(0,m.jsx)(h.Z,{id:"modal-modal-title",variant:"h6",component:"h2",textAlign:"center",children:"Share this event"}),(0,m.jsx)("div",{className:i().line_gradient}),(0,m.jsxs)("div",{className:i().container,children:[(0,m.jsxs)(a.Z,{url:e,quote:title,className:i().container_network,children:[(0,m.jsx)(r.Z,{size:32,round:!0}),(0,m.jsx)("div",{className:i().container_network_title,children:"Facebook"})]}),(0,m.jsxs)(l.Z,{url:e,title:title,className:i().container_network,children:[(0,m.jsx)(c.Z,{size:32,round:!0}),(0,m.jsx)("div",{className:i().container_network_title,children:"Twitter"})]}),(0,m.jsxs)(s.Z,{url:e,title:title,className:i().container_network,children:[(0,m.jsx)(_.Z,{size:32,round:!0}),(0,m.jsx)("div",{className:i().container_network_title,children:"Telegram"})]}),(0,m.jsxs)(d.Z,{url:e,title:title,className:i().container_network,children:[(0,m.jsx)(u.Z,{size:32,round:!0}),(0,m.jsx)("div",{className:i().container_network_title,children:"Email"})]}),(0,m.jsxs)("button",{className:i().container_network,onClick:function(){navigator.clipboard.writeText(e),t.onCloseModal(),t.onSuccess()},children:[(0,m.jsx)("div",{className:i().container_network_icon,children:(0,m.jsx)(v.Z,{className:i().container_network_icon_svg})}),(0,m.jsx)("div",{className:i().container_network_title,children:"Copy link"})]})]})]})})}},91595:function(t,e,n){"use strict";n.r(e);var o=n(9632),i=n(59499),a=n(50029),r=n(87794),l=n.n(r),c=n(67294),s=n(55220),_=n.n(s),d=n(60790),u=n(64041),v=n(59739),f=n(91811),p=n(36111),h=n(62665),m=n(89278),x=n(77957),b=n(25617),g=n(11163),j=n(68447),w=n(8791),y=n(25802),N=n(3167),k=n(86983),Z=n(87357),D=n(15861),E=n(95509),S=n(85893),C=n(34155);function O(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){l=!0,a=t},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw a}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var A=function(t){var e,n,r=t.id,s=(0,c.useRef)([]),P=(0,b.v9)((function(t){return t.wallet})),A=P.walletConnection.getAccountId(),R=(0,g.useRouter)(),T=(0,c.useState)([]),F=T[0],L=T[1],B=(0,c.useState)(null),K=B[0],H=B[1],$=(0,c.useState)(!1),X=$[0],V=$[1],q=(0,c.useState)(!1),U=q[0],Y=q[1],G=(0,c.useState)(!1),Q=G[0],J=G[1],tt=(0,c.useState)(!1),et=tt[0],nt=tt[1],ot=(0,c.useState)("success"),it=ot[0],at=ot[1],rt=(0,c.useState)(""),lt=rt[0],ct=rt[1],st=(0,c.useState)({}),_t=st[0],dt=st[1],ut=(0,c.useState)([]),vt=(ut[0],ut[1]),ft=(0,c.useState)(r),pt=ft[0],ht=(ft[1],(0,c.useState)(!1)),mt=ht[0],xt=ht[1],bt=(0,c.useState)(!1),gt=bt[0],jt=bt[1],wt=(0,c.useState)(!1),yt=wt[0],Nt=wt[1],kt=(0,c.useState)(""),Zt=kt[0],Dt=kt[1],Et=function(t){var e=t.type,n=t.msg;nt(!0),J(!1),at(e),ct(n)};(0,c.useEffect)((function(){function t(){return(t=(0,a.Z)(l().mark((function t(){var e,n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=P.contract,t.next=3,null===n||void 0===n||null===(e=n.get_recent_event_created)||void 0===e?void 0:e.call(n,{}).then((function(t){window.location="/event/event-detail?id=".concat(t)})).catch((function(t){J(!1),Et({type:"error",msg:"".concat(t)})}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}"created"===r?(J(!0),function(){t.apply(this,arguments)}()):(J(!1),Wt())}),[]);var St=function(t){try{var e=parseFloat(t),n=new Date(e),o=n.toLocaleDateString(),i=n.toLocaleTimeString();return"".concat(o," @ ").concat(i)}catch(a){return"unknow"}},Ct=function(){var t=(0,a.Z)(l().mark((function t(e){var n,o,i,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.total,o=P.contract,i=n%5===0?n/5:parseInt(n/5)+1,c=new Array(i).fill(0),t.next=6,Promise.all(c.map(function(){var t=(0,a.Z)(l().mark((function t(e,n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.get_interested_events({userId:A,page:n+1}).then((function(t){var e;t&&(null===t||void 0===t||null===(e=t.data)||void 0===e||e.map((function(t){return t.id===r&&Y(!0),t})))}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,c.useEffect)((function(){!function(){var t,e=P.contract;null===e||void 0===e||null===(t=e.get_interested_event_count)||void 0===t||t.call(e,{userId:A}).then((function(t){Ct({total:t})})).catch((function(t){console.log(t)}))}()}),[]),(0,c.useEffect)((function(){Pt()}),[]);var Ot=[],Pt=function(){var t,e=P.contract;null===e||void 0===e||null===(t=e.get_newest_events)||void 0===t||t.call(e,{}).then((function(t){Ot&&(t.data.map((function(t){var e,n="Online";switch(null===t||void 0===t?void 0:t.event_type){case 1:n="In person";break;case 2:n="Online + In person"}var o={id:_t.id,name:_t.name,type:n,date:St(_t.start_date),attendees:null===_t||void 0===_t||null===(e=_t.participants)||void 0===e?void 0:e.length};return Ot.push(o),_t})),vt([].concat(Ot)))})).catch((function(t){console.log(t)}))},Wt=function(){var t=P.contract;null===t||void 0===t||t.get_event({eventId:r}).then((function(t){if(t){var e=t.status,n=t.owner;0===e&&n!==A?Rt("You do not permission to access this page"):(dt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t)),zt(t.cover_img),It({total:t.participants}))}})).catch((function(t){console.log(t)}))},At=function(){var t=P.contract;J(!0),null===t||void 0===t||t.interest_event({eventId:_t.id},5e13).then((function(t){t?(Et({type:"success",msg:t}),Y("Interested"===t)):Et({type:"error",msg:"Error when interested"})})).catch((function(t){Et({type:"error",msg:String(t)})}))},It=function(t){var e=t.total,n=P.contract,i=e%5===0?e/5:parseInt(e/5)+1,a=new Array(i).fill(0);L([]),a.map((function(t,e){return n.get_event_participants({eventId:pt,page:e+1}).then((function(t){if(t&&-1===s.current.findIndex((function(e){return(null===e||void 0===e?void 0:e.page)===(null===t||void 0===t?void 0:t.page)}))){s.current.push(t),s.current.sort((function(t,e){return t.page<e.page?-1:t.page>e.page?1:0}));var e=[];s.current.map((function(t){return e=[].concat((0,o.Z)(e),(0,o.Z)((null===t||void 0===t?void 0:t.data)||[]))})),L((0,o.Z)(e)),e.includes(A)&&V(!0)}})).catch((function(t){console.log(t)}))}))},Mt=function(){var t=P.contract;_t.end_date<=Date.now()?Et({type:"error",msg:"This Event has ended!"}):(J(!0),X?null===t||void 0===t||t.leave_event({eventId:pt},5e13).then((function(t){t?(Wt(),Et({type:"success",msg:"Leaved"}),V(!1)):Et({type:"error",msg:"Could not leave"})})).catch((function(t){Et({type:"error",msg:String(t)})})):"0"!==(null===_t||void 0===_t?void 0:_t.enroll_fee)?null===t||void 0===t||t.join_event({eventId:pt},5e13,null===_t||void 0===_t?void 0:_t.enroll_fee).then((function(t){t?(Wt(),Et({type:"success",msg:"Register succesfully"}),V(!0)):Et({type:"error",msg:"Could not register"})})).catch((function(t){Et({type:"error",msg:String(t)})})):null===t||void 0===t||t.join_event({eventId:pt},5e13).then((function(t){console.log(t),t?(Wt(),Et({type:"success",msg:"Register succesfully"}),V(!0)):Et({type:"error",msg:"Could not register"})})).catch((function(t){Et({type:"error",msg:String(t)})})))},zt=function(){var t=(0,a.Z)(l().mark((function t(e){var n,o,i,a,r,c,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new w.xk({token:C.env.NEXT_PUBLIC_w3key}),t.next=3,n.get(e);case 3:if(!(o=t.sent).ok){t.next=12;break}return t.next=7,o.files();case 7:i=t.sent,a=O(i);try{for(a.s();!(r=a.n()).done;)c=r.value,(s=new FileReader).readAsDataURL(c),s.onload=function(t){H(t.target.result)}}catch(l){a.e(l)}finally{a.f()}t.next=13;break;case 12:H("/calendar.svg");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Rt=function(t){var e=encodeURIComponent(t);R.push("/error?content=".concat(e))},Tt=function(t){return new Date(parseFloat(t)).toLocaleString()},Ft=function(){jt(!1);var t=new URL(window.location.href).origin;Dt("".concat(t,"/event/event-detail?id=").concat(r)),Nt(!0)};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.Z,{openLoading:Q,openSnack:et,alertType:it,snackMsg:lt,onClose:function(){nt(!1)}}),mt&&(0,S.jsx)(N.Z,{label:M,onAccept:function(){xt(!1),function(){var t,e=P.contract;J(!0),null===e||void 0===e||null===(t=e.unpublish_event)||void 0===t||t.call(e,{eventId:pt}).then((function(t){t?(Wt(),Et({type:"success",msg:"Event has been unpublished"})):Et({type:"error",msg:"Somethings went wrong, please try again!"})})).catch((function(t){Et({type:"error",msg:String(t)})}))}()},onCancel:function(){xt(!1)}}),(0,S.jsxs)("div",{className:_().root,children:[(0,S.jsxs)("div",{className:_().content,children:[0===(null===_t||void 0===_t?void 0:_t.status)&&(null===_t||void 0===_t?void 0:_t.owner)===A&&(0,S.jsxs)("div",{className:_().content_button_area,children:[(0,S.jsxs)("button",{className:_().content_button_area_button,style:{marginRight:10},onClick:function(){R.push("/event/edit-event?id=".concat(r))},children:[(0,S.jsx)(x.Z,{className:_().content_button_area_button_icon})," Edit event"]}),(0,S.jsxs)("button",{className:_().content_button_area_button,onClick:function(){R.push("/event/publish-event?id=".concat(r))},children:[(0,S.jsx)(h.Z,{className:_().content_button_area_button_icon})," Publish"]})]}),0!==(null===_t||void 0===_t?void 0:_t.status)&&(null===_t||void 0===_t?void 0:_t.owner)===A&&(0,S.jsx)("div",{className:_().content_button_area,children:(0,S.jsxs)("button",{className:_().content_button_area_button,onClick:function(){return xt(!0)},children:[(0,S.jsx)(m.Z,{className:_().content_button_area_button_icon})," Unpublish"]})}),(0,S.jsx)("div",{className:_().content_event,children:(0,S.jsxs)("div",{className:_().content_info,children:[(0,S.jsx)("div",{className:_().content_info_date,children:Tt(null===_t||void 0===_t?void 0:_t.start_date)}),(0,S.jsx)("div",{className:_().content_info_name,children:null===_t||void 0===_t?void 0:_t.title}),(0,S.jsxs)("div",{className:_().content_info_row,children:[(0,S.jsx)("img",{src:"/calendar.svg",className:_().content_info_row_icon,alt:"img"}),(0,S.jsxs)("div",{className:_().content_info_row_info,children:[(0,S.jsx)("div",{className:_().content_info_row_info_host,children:"Hosted By"}),(0,S.jsx)("div",{className:_().content_info_row_info_wallet,children:null===_t||void 0===_t?void 0:_t.owner})]})]})]})}),(0,S.jsx)("div",{className:_().line}),(0,S.jsxs)("div",{className:_().content_detail,children:[(0,S.jsxs)("div",{className:_().content_detail_row,children:[(0,S.jsx)("div",{className:_().content_detail_cover,children:(0,S.jsx)("img",{src:K,alt:"cover",className:_().content_detail_cover_img})}),(0,S.jsxs)("div",{className:_().content_detail_info,children:[(0,S.jsxs)("div",{className:_().content_detail_info_row,children:[(0,S.jsx)(d.Z,{className:_().content_detail_info_icon}),(0,S.jsxs)("div",{className:_().content_detail_info_column,children:[(0,S.jsx)("div",{className:_().content_detail_info_date,children:Tt(null===_t||void 0===_t?void 0:_t.start_date)}),(0,S.jsx)("div",{className:_().content_detail_info_date,children:"to"}),(0,S.jsx)("div",{className:_().content_detail_info_date,children:Tt(null===_t||void 0===_t?void 0:_t.end_date)})]})]}),(0,S.jsxs)("div",{className:_().content_detail_info_row,children:[(0,S.jsx)(u.Z,{className:_().content_detail_info_icon}),(0,S.jsxs)("div",{className:_().content_detail_info_column,children:[(0,S.jsx)("div",{className:_().content_detail_info_date,children:I.map((function(t){return _t.type===t.typeId?t.label:""}))}),(0,S.jsx)("div",{className:_().content_detail_info_link,children:_t.url||"This event has no link"})]})]})]})]}),(0,S.jsx)("div",{className:_().content_detail_label,children:"Details"}),(0,S.jsx)("div",{className:_().content_detail_text,children:null===_t||void 0===_t||null===(e=_t.description)||void 0===e?void 0:e.map((function(t,e){return(0,S.jsxs)("div",{children:[t,(0,S.jsx)("br",{}),(0,S.jsx)("br",{})]},e)}))}),0!==(null===_t||void 0===_t?void 0:_t.status)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:_().content_detail_row_space,children:[(0,S.jsxs)("div",{className:_().content_detail_label,children:["Attendees (",(null===F||void 0===F?void 0:F.length)||0,")"]}),(0,S.jsx)("div",{className:_().content_detail_see_all,children:"See all"})]}),(null===F||void 0===F?void 0:F.length)>0?(0,S.jsx)("div",{className:_().content_detail_list,children:null===F||void 0===F||null===(n=F.map)||void 0===n?void 0:n.call(F,(function(t,e){return(0,S.jsx)("div",{className:_().content_detail_list_wallet,children:t},e)}))}):(0,S.jsx)("div",{className:_().content_detail_list_nothing,children:"No thing to display"})]})]})]}),(0,S.jsx)("div",{className:_().footer,children:(0,S.jsxs)("div",{className:_().footer_content,children:[(0,S.jsxs)("div",{className:_().footer_content_info,children:[(0,S.jsx)("div",{className:_().footer_content_info_date,children:Tt(null===_t||void 0===_t?void 0:_t.start_date)}),(0,S.jsx)("div",{className:_().footer_content_info_name,children:null===_t||void 0===_t?void 0:_t.title})]}),0!==(null===_t||void 0===_t?void 0:_t.status)&&(0,S.jsx)("div",{className:_().content_info_row_fee,children:"0"===(null===_t||void 0===_t?void 0:_t.enroll_fee)?"FREE":"".concat(j.utils.format.formatNearAmount((null===_t||void 0===_t?void 0:_t.enroll_fee)||0)," \u24c3")}),0!==(null===_t||void 0===_t?void 0:_t.status)&&(null===_t||void 0===_t?void 0:_t.owner)!==A&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:_().content_action,children:[(0,S.jsx)(v.Z,{className:_().content_action_icon,onClick:Ft}),U?(0,S.jsx)(p.Z,{className:_().content_action_icon_favor,onClick:function(){return At()}}):(0,S.jsx)(f.Z,{className:_().content_action_icon_favor,onClick:function(){return At()}})]}),(0,S.jsx)("button",{className:_().content_button_attend,onClick:Mt,children:X?"Un-Register":"Register"})]})]})})]}),(0,S.jsx)(k.Z,{open:gt,onClose:function(){return jt(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,S.jsxs)(Z.Z,{sx:z,children:[(0,S.jsx)(D.Z,{id:"modal-modal-title",variant:"h6",component:"h2",textAlign:"center",children:"Your event"}),(0,S.jsx)("div",{className:_().line}),(0,S.jsxs)("div",{className:_().modal,children:[(0,S.jsx)("div",{className:_().modal_date,children:Tt(null===_t||void 0===_t?void 0:_t.start_date)}),(0,S.jsx)("button",{className:_().modal_button,onClick:Mt,children:"Add to calendar"}),(0,S.jsx)("button",{className:_().modal_button_share,onClick:Ft,children:"Share this event"})]})]})}),yt&&(0,S.jsx)(E.Z,{link:Zt,onCloseModal:function(){Nt(!1)},onSuccess:function(){Et({type:"success",msg:"copied"})}})]})};A.getInitialProps=function(){var t=(0,a.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query.id,t.abrupt("return",{id:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.default=A;var I=[{id:"online",typeId:0,label:"Online"},{id:"in_person",typeId:1,label:"In Person"},{id:"both",typeId:2,label:"Online + In Person"}],M={title:"Confirmation",desc:"Are you sure to unpublish this event?",accept:"Accept",cancel:"Deny"},z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:400,bgcolor:"#fff",borderRadius:"24px",boxShadow:24,p:4,outline:"none",paddingTop:"20px"}},19523:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/event/event-detail",function(){return n(91595)}])},2077:function(t){t.exports={root:"Confirmation_root__ePbH8",root_title:"Confirmation_root_title__vzCn_",root_content:"Confirmation_root_content__LQ5jl",root_content_icon:"Confirmation_root_content_icon__7nGIz",root_content_text:"Confirmation_root_content_text__KISZB",root_action:"Confirmation_root_action__v9fOe",root_action_cancel:"Confirmation_root_action_cancel__0ishS",root_action_accept:"Confirmation_root_action_accept__KjTK0"}},37196:function(t){t.exports={snack_area:"Notify_snack_area__VKRcf"}},96538:function(t){t.exports={container:"Share_container__HK0Kf",container_network:"Share_container_network__d7E0n",container_network_title:"Share_container_network_title__vnpou",container_network_icon:"Share_container_network_icon__t1RMB",container_network_icon_svg:"Share_container_network_icon_svg__qAnU_",line_gradient:"Share_line_gradient__A0WlO"}},55220:function(t){t.exports={root:"EventDetail_root__IxlM0",header:"EventDetail_header__DARAP",header_title:"EventDetail_header_title__0I0Xs",header_close:"EventDetail_header_close__EpPhB",content:"EventDetail_content__S22bC",content_button_area:"EventDetail_content_button_area__2EbuX",content_button_area_button:"EventDetail_content_button_area_button__olwz3",content_button_area_button_icon:"EventDetail_content_button_area_button_icon__Ds5pg",content_event:"EventDetail_content_event__K_0w2",content_info:"EventDetail_content_info__9X_Iu",content_info_date:"EventDetail_content_info_date__Y7S20",content_info_name:"EventDetail_content_info_name___v_0Z",content_info_row:"EventDetail_content_info_row__khdcR",content_info_row_icon:"EventDetail_content_info_row_icon___HvfN",content_info_row_info:"EventDetail_content_info_row_info__lwGVc",content_info_row_info_host:"EventDetail_content_info_row_info_host__GptOc",content_info_row_info_wallet:"EventDetail_content_info_row_info_wallet___Env9",content_info_row_fee:"EventDetail_content_info_row_fee__AG7b1",content_action:"EventDetail_content_action__Wzmlc",content_action_icon:"EventDetail_content_action_icon__hp5_N",content_action_icon_favor:"EventDetail_content_action_icon_favor__ZcTPQ",content_button_attend:"EventDetail_content_button_attend__qIN0P",content_detail:"EventDetail_content_detail__uYbAC",content_detail_row:"EventDetail_content_detail_row__3q8_d",content_detail_cover:"EventDetail_content_detail_cover__AJKF4",content_detail_cover_img:"EventDetail_content_detail_cover_img__3NnRX",content_detail_info:"EventDetail_content_detail_info__jEKgG",content_detail_info_row:"EventDetail_content_detail_info_row__Q30qM",content_detail_info_icon:"EventDetail_content_detail_info_icon__Mqrqq",content_detail_info_column:"EventDetail_content_detail_info_column__TjuaE",content_detail_info_date:"EventDetail_content_detail_info_date__SEd2j",content_detail_info_add:"EventDetail_content_detail_info_add__pZSfd",content_detail_info_link:"EventDetail_content_detail_info_link__9QFKd",content_detail_row_space:"EventDetail_content_detail_row_space__NZKGz",content_detail_label:"EventDetail_content_detail_label__b_KH2",content_detail_text:"EventDetail_content_detail_text__LbWpm",content_detail_see_all:"EventDetail_content_detail_see_all__W68S1",content_detail_list:"EventDetail_content_detail_list__AeS1L",content_detail_list_nothing:"EventDetail_content_detail_list_nothing__2KKHE",content_detail_list_wallet:"EventDetail_content_detail_list_wallet__L3N0Z",content_detail_list_item:"EventDetail_content_detail_list_item__5RfS2",content_detail_list_name:"EventDetail_content_detail_list_name__cFaig",content_detail_list_name_text:"EventDetail_content_detail_list_name_text__FOet1",content_detail_list_attend:"EventDetail_content_detail_list_attend__DDNFk",footer:"EventDetail_footer__uXucJ",footer_content:"EventDetail_footer_content__21VK1",footer_content_info:"EventDetail_footer_content_info__99MHz",footer_content_info_date:"EventDetail_footer_content_info_date__6oF8S",footer_content_info_name:"EventDetail_footer_content_info_name__lTlpT",modal:"EventDetail_modal__yaoA0",modal_date:"EventDetail_modal_date__PwQZ2",modal_button:"EventDetail_modal_button__vC5Wh",modal_button_share:"EventDetail_modal_button_share__8Ar6z",line:"EventDetail_line__mZ92g"}}},function(t){t.O(0,[7739,6775,5334,1357,9774,2888,179],(function(){return e=19523,t(t.s=e);var e}));var e=t.O();_N_E=e}]);