(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6261],{87357:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(87462),r=n(63366),i=n(67294),o=n(86010),l=n(30561),s=n(86523),u=n(39707),c=n(11938),d=n(85893);const p=["className","component"];var f=n(49981);const y=function(e={}){const{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:f,styleFunctionSx:y=s.Z}=e,m=(0,l.ZP)("div")(y);return i.forwardRef((function(e,i){const l=(0,c.Z)(t),s=(0,u.Z)(e),{className:y,component:h="div"}=s,v=(0,r.Z)(s,p);return(0,d.jsx)(m,(0,a.Z)({as:h,ref:i,className:(0,o.default)(y,f?f(n):n),theme:l},v))}))}({defaultTheme:(0,n(21265).Z)(),defaultClassName:"MuiBox-root",generateClassName:f.Z.generate});var m=y},15861:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(63366),r=n(87462),i=n(67294),o=n(86010),l=n(39707),s=n(27192),u=n(11496),c=n(54502),d=n(98216),p=n(28979);function f(e){return(0,p.Z)("MuiTypography",e)}(0,n(76087).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var y=n(85893);const m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],h=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,d.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,r.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},g={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var _=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiTypography"}),i=(e=>g[e]||e)(n.color),u=(0,l.Z)((0,r.Z)({},n,{color:i})),{align:p="inherit",className:_,component:x,gutterBottom:b=!1,noWrap:j=!1,paragraph:Z=!1,variant:w="body1",variantMapping:N=v}=u,T=(0,a.Z)(u,m),F=(0,r.Z)({},u,{align:p,color:i,className:_,component:x,gutterBottom:b,noWrap:j,paragraph:Z,variant:w,variantMapping:N}),O=x||(Z?"p":N[w]||v[w])||"span",P=(e=>{const{align:t,gutterBottom:n,noWrap:a,paragraph:r,variant:i,classes:o}=e,l={root:["root",i,"inherit"!==e.align&&`align${(0,d.Z)(t)}`,n&&"gutterBottom",a&&"noWrap",r&&"paragraph"]};return(0,s.Z)(l,f,o)})(F);return(0,y.jsx)(h,(0,r.Z)({as:O,ref:t,ownerState:F,className:(0,o.default)(P.root,_)},T))}))},39707:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(87462),r=n(63366),i=n(59766),o=n(48528);const l=["sx"];function s(e){const{sx:t}=e,n=(0,r.Z)(e,l),{systemProps:s,otherProps:u}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{o.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let c;return c=Array.isArray(t)?[s,...t]:"function"===typeof t?(...e)=>{const n=t(...e);return(0,i.P)(n)?(0,a.Z)({},s,n):s}:(0,a.Z)({},s,t),(0,a.Z)({},u,{sx:c})}},25802:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(67294),r=n(76798),i=n(59499),o=n(15568),l=n(85893);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=a.forwardRef((function(e,t){return(0,l.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elevation:6,ref:t,variant:"filled"},e))})),c=u,d=n(77227),p=function(e){var t=e.open;return(0,l.jsx)(d.Z,{sx:{color:"#fff",zIndex:9999},open:t,children:(0,l.jsx)("img",{src:"/loadingWhite.svg",style:{width:100,height:100},alt:"img"})})},f=n(37196),y=n.n(f),m=function(e){var t=e.openSnack,n=e.snackMsg,a=e.alertType,i=e.openLoading,o=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{open:i}),(0,l.jsx)(r.Z,{open:t,anchorOrigin:{vertical:"top",horizontal:"right"},className:y().snack_area,autoHideDuration:3e3,onClose:o,children:(0,l.jsx)(c,{onClose:o,sx:{width:"100%"},severity:a,children:n})})]})}},19276:function(e,t,n){"use strict";n.r(t);var a=n(59499),r=n(50029),i=n(9632),o=n(87794),l=n.n(o),s=n(67294),u=n(87180),c=n.n(u),d=n(86983),p=n(87357),f=n(15861),y=n(91268),m=n(9143),h=n(45201),v=n(32186),g=n(19789),_=n(1536),x=n(28778),b=n(83208),j=n(29275),Z=n(55784),w=n(58219),N=n(42479),T=n(25617),F=n(11163),O=n(25802),P=n(85893);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:800,bgcolor:"#efefef",borderRadius:"8px",boxShadow:24,p:4,outline:"none",maxHeight:"calc(100vh - 50px)",overflow:"auto"};t.default=function(){var e,t,n=[],a=(0,T.v9)((function(e){return e.wallet})),o=(0,F.useRouter)(),u=o.query,S=(0,s.useState)({}),R=S[0],q=S[1],I=(0,s.useState)([]),E=I[0],B=I[1],D=(0,s.useState)([]),W=D[0],M=D[1],L=(0,s.useState)(!1),H=L[0],J=L[1],X=(0,s.useState)(""),z=X[0],K=X[1],Q=(0,s.useState)("Choose a participant to see the answer"),U=Q[0],Y=Q[1],$=(0,s.useState)("Loading..."),G=$[0],ee=$[1],te=(0,s.useState)(!1),ne=te[0],ae=te[1],re=(0,s.useState)(!1),ie=re[0],oe=re[1],le=(0,s.useState)("success"),se=le[0],ue=le[1],ce=(0,s.useState)(""),de=ce[0],pe=ce[1],fe=(0,s.useState)({}),ye=fe[0],me=fe[1];(0,s.useEffect)((function(){he()}),[]);var he=function(){var e,t=a.contract,n=u.id;if(null===n||""===n||"undefined"===typeof n)return _e("Could not found any object have that id!");null===t||void 0===t||null===(e=t.get_form)||void 0===e||e.call(t,{id:n}).then((function(e){if(e){var t=e.start_date,n=e.participants,a=e.status,r=Date.now().toString();if(0===a)return _e("This form has not been published!");if(r<t)return _e("This form has not been started");q(e);var o=null===n||void 0===n?void 0:n.map((function(e){return{name:e,checked:!1}}));B((0,i.Z)(o))}})).catch((function(e){console.log(e)}))},ve=function(e){var t;ae(!0);var n=a.contract,r=u.id;null===n||void 0===n||null===(t=n.get_passed_element_count)||void 0===t||t.call(n,{formId:r,userId:e}).then((function(t){t?ge(e,t):(ee("Nothing to be shown"),ae(!1))})).catch((function(e){!function(e){var t=e.type,n=e.msg;oe(!0),ae(!1),ue(t),pe(n)}({type:"error",msg:String(e)})}))},ge=function(){var e=(0,r.Z)(l().mark((function e(t,o){var s,c,d,p,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof ye[t]){e.next=3;break}return ae(!1),e.abrupt("return",M((0,i.Z)(ye[t])));case 3:return s=a.contract,c=u.id,d=o%5===0?parseInt(o/5):parseInt(o/5)+1,p=new Array(d).fill(0),M([]),n=[],f=[],e.next=12,Promise.all(p.map(function(){var e=(0,r.Z)(l().mark((function e(a,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.get_answer_statistical({userId:t,formId:c,page:r+1},5e13).then((function(e){var t;e&&(-1===n.findIndex((function(t){return(null===t||void 0===t?void 0:t.page)===(null===e||void 0===e?void 0:e.page)}))&&(n.push(e),n.sort((function(e,t){return e.page<t.page?-1:e.page>t.page?1:0})),f=[],n.map((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e){var t,n,a,r={bId:e.element_id,id:null===C||void 0===C||null===(t=C[e.type])||void 0===t?void 0:t.id,type:e.type,label:null===C||void 0===C||null===(n=C[e.type])||void 0===n?void 0:n.label,defaultValue:{title:null===e||void 0===e?void 0:e.title,isRequire:null===e||void 0===e?void 0:e.isRequired,meta:null===e||void 0===e?void 0:e.answer},numth:e.numth};"singleChoice"!==r.id&&"multiChoice"!==r.id||(r.defaultValue.meta=null===e||void 0===e||null===(a=e.meta)||void 0===a?void 0:a.map((function(t){var n;return{content:t,check:!(null===e||void 0===e||null===(n=e.answer)||void 0===n||!n.includes(t))}})));return r}));return f=[].concat((0,i.Z)(f),(0,i.Z)(n||[])),""})),f=null===(t=f)||void 0===t?void 0:t.sort((function(e,t){return(null===e||void 0===e?void 0:e.numth)<(null===t||void 0===t?void 0:t.numth)?-1:(null===e||void 0===e?void 0:e.numth)>(null===t||void 0===t?void 0:t.numth)?1:0}))))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(){ye[t]=(0,i.Z)(f),me(k({},ye)),M((0,i.Z)(f)),ae(!1)})).catch((function(e){console.log(e),ae(!1)}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(e){var t=encodeURIComponent(e);o.push("/error?content=".concat(t))},xe=function(e,t){var n=e.type,a=e.id,r=e.defaultValue;switch(a){case"header":return(0,P.jsx)(y.Z,{});case"fullName":return(0,P.jsx)(m.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"email":return(0,P.jsx)(h.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"address":return(0,P.jsx)(v.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"phone":return(0,P.jsx)(g.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"datePicker":return(0,P.jsx)(_.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"shortText":return(0,P.jsx)(x.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"longText":return(0,P.jsx)(b.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"time":return(0,P.jsx)(j.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"rating":return(0,P.jsx)(Z.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"singleChoice":return(0,P.jsx)(w.Z,{index:t,elType:n,type:"analysis",defaultValue:r});case"multiChoice":return(0,P.jsx)(N.Z,{index:t,elType:n,type:"analysis",defaultValue:r})}},be=function(e,t){var n=e.name,r="".concat(null===n||void 0===n?void 0:n[0]).concat(null===n||void 0===n?void 0:n[1]);return(0,P.jsxs)("div",{className:c().participant_area,onClick:function(){return function(e,t){M([]),E[t].checked=!0;var n=a.walletConnection.getAccountId();if(n!==R.owner&&n!==e)return K(""),Y("You only see your answers!");B((0,i.Z)(E)),K(e),ve(e)}(n,t)},children:[(0,P.jsx)("div",{className:c().participant_area_avata,style:{background:A[Math.floor(5*Math.random())]},children:r}),(0,P.jsx)("div",{className:c().participant_area_name,style:{color:e.checked?"var(--color-secondary)":""},children:n})]},t)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(O.Z,{openLoading:ne,openSnack:ie,alertType:se,snackMsg:de,onClose:function(){oe(!1)}}),(0,P.jsxs)("div",{className:c().root,children:[(0,P.jsxs)("div",{className:c().content,children:[(0,P.jsxs)("div",{className:c().content_left,children:[(0,P.jsx)("div",{className:c().form_analysis_title,children:null===R||void 0===R?void 0:R.title}),(0,P.jsxs)("div",{className:c().form_analysis_text,children:["Total Question(s): ",null===R||void 0===R||null===(e=R.elements)||void 0===e?void 0:e.length]}),(0,P.jsxs)("div",{className:c().form_analysis_text,children:["Total Participant(s): ",null===R||void 0===R||null===(t=R.participants)||void 0===t?void 0:t.length]}),(null===E||void 0===E?void 0:E.length)>0?(0,P.jsx)("div",{className:c().participant_root,children:(0,P.jsx)("div",{className:c().participant_list,children:E.map((function(e,t){return be(e,t)}))})}):(0,P.jsx)("div",{className:c().participant_nothing,children:(0,P.jsx)("div",{className:c().nothing_text,children:"Nothing to display"})})]}),""!==z&&(0,P.jsxs)("div",{className:c().participant_preview,children:[(0,P.jsxs)(f.Z,{id:"modal-modal-title",variant:"h5",component:"h2",children:["Result of: ",(0,P.jsx)("span",{style:{color:"var(--color-link)"},children:z})]}),(0,P.jsx)("div",{className:c().line}),(0,P.jsx)("div",{className:c().modal_content,children:function(){return 0===(null===W||void 0===W?void 0:W.length)?(0,P.jsx)("div",{className:c().cStatus,children:G}):null===W||void 0===W||null===(e=W.map)||void 0===e?void 0:e.call(W,(function(e,t){return(0,P.jsx)("div",{className:c().element_content,children:xe(e,t)},t)}));var e}()})]}),""===z&&(0,P.jsx)("div",{className:c().participant_notify,children:U})]}),(0,P.jsx)(d.Z,{open:H,onClose:function(){J(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,P.jsx)(p.Z,{sx:V})})]})]})};var A=["linear-gradient(135deg, #007AFF, #23D2FF)","linear-gradient(135deg, #FFD3A5, #FD6585)","linear-gradient(135deg, #FC3B63, #711DDF)","linear-gradient(135deg, #69F9CC, #F8B0AD, #F6E884)","linear-gradient(135deg, #EE9AB1, #FCFF00)","linear-gradient(135deg, #EE9AE5, #5961F9)","#FFD166","#FA8F54"],C=[{bId:"",id:"header",type:0,label:"Header",defaultValue:{title:[],meta:[],isRequired:!1,error:""}},{bId:"",id:"fullName",type:1,label:"Full Name",defaultValue:{title:["Name","Type your description","First Name","Last Name"],meta:[],isRequired:!1,error:""}},{bId:"",id:"email",type:2,label:"Email",defaultValue:{title:["Email","Type your description","Email."],meta:[],isRequired:!1,error:""}},{bId:"",id:"address",type:3,label:"Address",defaultValue:{title:["Address","Street Address","Street Address Line 2","City","State / Province","Postal / Zip Code"],meta:[],isRequired:!1,error:""}},{bId:"",id:"phone",type:4,label:"Phone",defaultValue:{title:["Phone Number","Type your description","Please enter a valid phone number."],meta:[],isRequired:!1,error:""}},{bId:"",id:"datePicker",type:5,label:"Date Picker",defaultValue:{title:["Date Picker","Type your description","Please pick a date."],meta:[],isRequired:!1,error:""}},{bId:"",id:"fillBlank",type:6,label:"Fill in the Blank",defaultValue:{title:["Type a question"],meta:[],isRequired:!1}},{bId:"",id:"shortText",type:7,label:"Shot Text",defaultValue:{title:["Type a question","Type your description"],meta:[],isRequired:!1,error:""}},{bId:"",id:"longText",type:8,label:"Long text",defaultValue:{title:["Type a question","Type your description"],meta:[],isRequired:!1,error:""}},{bId:"",id:"singleChoice",type:9,label:"Single Choice",defaultValue:{title:["Type a question","Type your description"],meta:[],isRequired:!1,error:""}},{bId:"",id:"multiChoice",type:10,label:"Multi Choice",defaultValue:{title:["Type a question","Type your description"],meta:[],isRequired:!1,error:""}},{bId:"",id:"time",type:11,label:"Time",defaultValue:{title:["Type a question","Type your description"],meta:[],isRequired:!1,error:""}},{bId:"",id:"rating",type:12,label:"Rating",defaultValue:{title:["Type a question","Type your description"],meta:[],isRequired:!1,error:""}}]},81426:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/form-analysis",function(){return n(19276)}])},37196:function(e){e.exports={snack_area:"Notify_snack_area__VKRcf"}},87180:function(e){e.exports={root:"FormAnalysis_root__jMkiH",content:"FormAnalysis_content__j_jOk",content_left:"FormAnalysis_content_left__iyqi8",form_analysis_title:"FormAnalysis_form_analysis_title__VkQgV",form_analysis_text:"FormAnalysis_form_analysis_text__un4M4",nothing_text:"FormAnalysis_nothing_text__VV43k",participant_root:"FormAnalysis_participant_root__UW2Vy",participant_list:"FormAnalysis_participant_list__FWbtV",participant_preview:"FormAnalysis_participant_preview__2N3Xy",participant_notify:"FormAnalysis_participant_notify__P9qKt",element_content:"FormAnalysis_element_content__x7dJc",participant_nothing:"FormAnalysis_participant_nothing__aWFie",participant_area:"FormAnalysis_participant_area__Rcdlt",participant_area_avata:"FormAnalysis_participant_area_avata__WOJbw",participant_area_name:"FormAnalysis_participant_area_name__NFWSp",line:"FormAnalysis_line__4BWei",cStatus:"FormAnalysis_cStatus__R6Yoj"}}},function(e){e.O(0,[7739,6775,5816,1561,9774,2888,179],(function(){return t=81426,e(e.s=t);var t}));var t=e.O();_N_E=t}]);